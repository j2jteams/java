### **Exploring Bean Lifecycle Methods with Java-Based Configuration**  

Spring provides lifecycle callbacks to perform initialization and cleanup operations on beans. Let's compare how this is done using **XML-based, annotation-based, and Java-based configurations**.

---

## **1. Bean Lifecycle in Spring**
When a bean is managed by Spring, it undergoes the following lifecycle phases:  

1Ô∏è‚É£ **Instantiation** ‚Äì Bean is created.  
2Ô∏è‚É£ **Dependency Injection** ‚Äì Dependencies are injected.  
3Ô∏è‚É£ **Initialization** ‚Äì Custom initialization logic runs.  
4Ô∏è‚É£ **Ready for Use** ‚Äì Bean is available for the application.  
5Ô∏è‚É£ **Destruction** ‚Äì Cleanup before shutting down the context.  

---

## **2. Defining Lifecycle Methods**
Spring provides multiple ways to define lifecycle methods:  

| Approach | Annotation | Java Config (`@Bean`) | XML Config (`init-method` & `destroy-method`) |
|----------|------------|----------------|-----------------------------|
| **Using Annotations** | `@PostConstruct` & `@PreDestroy` | ‚úÖ | ‚ùå |
| **Using `@Bean` Parameters** | `initMethod` & `destroyMethod` | ‚úÖ | ‚ùå |
| **Implementing `InitializingBean` & `DisposableBean`** | `afterPropertiesSet()` & `destroy()` | ‚úÖ | ‚úÖ |

---

## **3. Lifecycle Methods in Different Configurations**

### **A) Using `@PostConstruct` and `@PreDestroy` (Recommended)**
üìå **Best practice as it works with all configurations (XML, annotations, Java-based).**  

#### **Java-Based Configuration**
```java
import javax.annotation.PostConstruct;
import javax.annotation.PreDestroy;

public class StudentService {
    
    @PostConstruct
    public void init() {
        System.out.println("StudentService initialized...");
    }

    @PreDestroy
    public void destroy() {
        System.out.println("StudentService destroyed...");
    }
}
```

#### **Registering Bean in Java-Based Config**
```java
@Configuration
public class AppConfig {
    @Bean
    public StudentService studentService() {
        return new StudentService();
    }
}
```

#### **Output when running the application:**
```
StudentService initialized...
(StudentService is in use)
StudentService destroyed...
```

---

### **B) Using `@Bean(initMethod, destroyMethod)`**
üìå **Useful when you don‚Äôt want to modify the actual class.**  

#### **Java-Based Configuration**
```java
@Configuration
public class AppConfig {
    @Bean(initMethod = "init", destroyMethod = "destroy")
    public StudentService studentService() {
        return new StudentService();
    }
}
```
```java
public class StudentService {
    public void init() {
        System.out.println("StudentService initialized...");
    }

    public void destroy() {
        System.out.println("StudentService destroyed...");
    }
}
```

---

### **C) Using XML-Based Configuration**
üìå **Traditional approach, not recommended for new projects.**  

```xml
<bean id="studentService" class="com.example.StudentService" 
      init-method="init" destroy-method="destroy"/>
```

---

### **D) Implementing `InitializingBean` and `DisposableBean` (Not Recommended)**
üìå **Tightly coupled to Spring, making the class harder to reuse.**  

```java
import org.springframework.beans.factory.InitializingBean;
import org.springframework.beans.factory.DisposableBean;

public class StudentService implements InitializingBean, DisposableBean {
    @Override
    public void afterPropertiesSet() {
        System.out.println("StudentService initialized...");
    }

    @Override
    public void destroy() {
        System.out.println("StudentService destroyed...");
    }
}
```

---

## **4. When to Use Which Approach?**
| Approach | Recommended For | Notes |
|----------|----------------|-------|
| **`@PostConstruct` & `@PreDestroy`** | General use cases | ‚úÖ Recommended |
| **`@Bean(initMethod, destroyMethod)`** | When modifying the class is not an option | ‚úÖ Recommended |
| **XML (`init-method`, `destroy-method`)** | Legacy applications | ‚ùå Avoid for new projects |
| **`InitializingBean`, `DisposableBean`** | Not recommended | ‚ùå Tightly coupled to Spring |

---

## **5. Conclusion**
‚úÖ **`@PostConstruct` and `@PreDestroy` are the best choices for most cases.**  
‚úÖ **`@Bean(initMethod, destroyMethod)` is useful when modifying the class is not possible.**  
‚úÖ **Avoid XML-based and interface-based lifecycle methods in modern projects.**  

Would you like to move on to **Spring Profiles** next? üöÄ
